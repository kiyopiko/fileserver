<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css"
	th:href="@{/webjars/bootstrap/3.3.6/css/bootstrap.css}"></link>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.css"
	th:href="@{/webjars/bootstrap/3.3.6/css/bootstrap-theme.css}"></link>
<link rel="stylesheet"
	href="../static/css/common.css"
	th:href="@{/css/common.css}"></link>
<title>Nappy!</title>
</head>
<body>

	<!-- ナビゲーションバー -->
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<!-- topに戻る -->
			<div class="navbar-header">
				<a class="navbar-brand" href="./folder.html" th:href="@{/folder}">Nappy!</a>
			</div>

			<div class="collapse navbar-collapse">
				<div class="navbar-form navbar-right">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="ファイル・フォルダ名で検索"/>
						<div class="input-group-btn">
							<a class="btn btn-default" href="./loginForm.html" th:href="@{/logout}">
								<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
							</a>
						</div>
					</div>
					<a class="btn btn-default" href="./loginForm.html" th:href="@{/logout}">
						<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
					</a>
					<a class="btn btn-default" href="./loginForm.html" th:href="@{/logout}">
						<span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
					</a>
				</div>
			</div>
		</div>
	</nav>

	<!-- 画面要素 -->

		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-3 col-md-2 sidebar">
					<ul class="nav nav-sidebar">
						<li class="active">
							<a href="#">
								<span class="glyphicon glyphicon-home"></span><span style="margin-left: 5px;">ホーム</span>
							</a>
						</li>
						<li><a style="padding-left: 45px;" href="#">フォルダＡ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＢ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＣ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＤ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＥ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＦ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＧ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＨ</a></li>
						<li><a style="padding-left: 55px;" href="#">フォルダＩ</a></li>
						<li><a style="padding-left: 55px;" href="#">フォルダＪ</a></li>
						<li><a style="padding-left: 55px;" href="#">フォルダＫ</a></li>
						<li><a style="padding-left: 55px;" href="#">フォルダＬ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＭ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＮ</a></li>
						<li><a style="padding-left: 45px;" href="#">フォルダＯ</a></li>
					</ul>
				</div>
				<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main" style="min-width: 600px;">
					<div class="well">
						<table style="width: 100%;">
							<tr>
								<td width="76%" style="vertical-align: middle;">
									<div class="row">
										<div class="col-sm-12">
											<span style="font-size: 120%;">このフォルダの権限：</span>
											<span style="font-size: 120%;">あなたのみ閲覧可</span>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<span style="font-size: 120%;">フォルダ数：</span><span>100</span>
											<span style="font-size: 120%; margin-left: 5px">ファイル数：</span><span>100</span>
										</div>
									</div>
								</td>
								<td width="12%">
									<div class="text-center" style="margin-left: 10px; margin-right: 10px">
										<button class="btn btn-primary btn-circle">
											<span class="glyphicon glyphicon-folder-close"></span>
										</button>
										<br/>
										<span style="font-size: 90%;">フォルダ<br/>追加</span>
									</div>
								</td>
								<td width="12%">
									<div class="text-center" style="margin-left: 10px; margin-right: 10px">
										<button class="btn btn-primary btn-circle">
											<span class="glyphicon glyphicon-file"></span>
										</button>
										<br/>
										<span style="font-size: 90%;">ファイル<br/>追加</span>
									</div>
								</td>
							</tr>
						</table>
					</div>

					<div th:if="${#lists.isEmpty(fileList)}">
						<div>ファイルがありません<br/>ここにドラッグアンドドロップしてください。</div>
					</div>
					<div th:if="${not #lists.isEmpty(fileList)}">
						<table class="table table-hover table-striped table-condensed">
							<colgroup span="1" style="width: 9%"/>
							<colgroup span="1" style="width: 43%"/>
							<colgroup span="1" style="width: 10%"/>
							<colgroup span="1" style="width: 10%"/>
							<colgroup span="1" style="width: 18%"/>
							<colgroup span="1" style="width: 19%"/>

							<thead>
								<tr>
									<th width="9%" class="text-center">
										<input id="all-file-check" type="checkbox" style="width: 15px;height: 15px;"/>
									</th>
									<th class="text-center file-info-header">
										<a href="#">
											<span>名前</span>
											<span style="margin-left: 5px" class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
										</a>
									</th>
									<th class="text-center file-info-header">
										<span>削除</span>
									</th>
									<th class="text-center file-info-header">
										<span>設定</span>
									</th>
									<th class="text-center file-info-header">
										<a href="#">
											<span>サイズ</span>
											<span style="margin-left: 5px" class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
										</a>
									</th>
									<th class="text-center file-info-header">更新日時</th>
									<th colspan="5" style="display: none;" class="text-left file-info-download-header">
										<a href="#">
											<span class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span>
											<span style="margin-left: 5px">選択したファイルをダウンロード</span>
										</a>
									</th>

								</tr>
							</thead>
							<tbody>
								<tr class="drug-base" th:each="data,iterStat : ${fileList}">
									<td style="vertical-align:middle" class="text-center">
										<input type="checkbox" class="file-info-download-target" style="width: 15px; height: 15px;"/>
									</td>
									<td style="vertical-align: middle;" class="text-left">
										<a class="drug-target" href="#">
											<span th:if="${data.fileFlg}"><span class="glyphicon glyphicon-file" aria-hidden="true"></span></span>
											<span th:unless="${data.fileFlg}"><span class="glyphicon glyphicon-folder-close" aria-hidden="true"></span></span>
											<span th:text="${data.filename}">ファイル名</span>
										</a>
									</td>
									<td style="vertical-align: middle" class="text-center" >
										<button class="btn btn-danger btn-circle btn-sm">
											<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
										</button>
									</td>
									<td style="vertical-align: middle" class="text-center">
										<div class="btn-group">
											<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												<span class="glyphicon glyphicon-option-horizontal" aria-hidden="true"></span>
											</button>
											<ul class="dropdown-menu">
												<li>
													<a href="#">
														<span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
														<span>詳細</span>
													</a>
												</li>
												<li>
													<a href="#">
														<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
														<span>名前の変更</span>
													</a>
												</li>
												<li role="separator" class="divider"></li>
												<li>
													<a href="#">
														<span class="glyphicon glyphicon-share" aria-hidden="true"></span>
														<span>共有</span>
													</a>
												</li>
											</ul>
										</div>
									</td>
									<td style="vertical-align: middle" class="text-center">
										<span>100</span>
										<span>KB</span>
									</td>
									<td style="vertical-align: middle" class="text-right">
										<div th:text="${#dates.format(data.updateTimestamp, 'yyyy/MM/dd')}">yyyy/MM/dd</div>
										<div th:text="${#dates.format(data.updateTimestamp, 'HH:mm:ss')}">HH:mm:ss</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<hr/>
					<div class="text-center">
						<p>Copyright (C) 2015 creativebee. All Rights Reserved.</p>
					</div>
				</div>
			</div>
		</div>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"
		th:src="@{/webjars/jquery/2.1.4/jquery.js}"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.js"
		th:src="@{/webjars/bootstrap/3.3.6/js/bootstrap.js}"></script>
	<script
		src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>
	<script>

		// 初期表示時
		$(function() {
			// ドラッグandドロップの動作設定
			$('.drug-target').draggable();
			$('.drug-target').draggable({
				revert: true,
				revertDuration: 100
			});
		});

		// 全ファイルのチェックボックスが変更された時の動作
		$('#all-file-check').on('change', function() {
			if ($(this).prop('checked')) {
				$('.file-info-header').hide();
				$('.file-info-download-header').show();
				$('.file-info-download-target').prop('checked', true);
			} else {
				$('.file-info-download-header').hide();
				$('.file-info-header').show();
				$('.file-info-download-target').prop('checked', false);
			}
		});

		// 全ファイルのチェックボックスが変更された時の動作
		$('.file-info-download-target').on('change', function() {

			var checkFindFlg = false;
			$('.file-info-download-target').each(function() {
				if ($(this).prop('checked')) {
					checkFindFlg = true;
					return false; // like break;
				}
			});

			if (checkFindFlg) {
				$('.file-info-header').hide();
				$('.file-info-download-header').show();
			} else {
				$('.file-info-download-header').hide();
				$('.file-info-header').show();
				$('#all-file-check').prop('checked', false);
			}
		});

	</script>
</body>
</html>